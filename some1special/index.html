<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <title>Somebody - Retro iPhone Web</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="lockscreen">
    <h2>Slide to unlock 🔓</h2>
    <input type="range" id="unlockSlider" min="0" max="100" value="0">
  </div>

  <div id="menu" style="display: none;">
    <h1>📱 Retro iPhone Menu</h1>
    <div class="icon-grid">
      <div class="icon" onclick="openSection('message')">💌<br><span>Message</span></div>
      <div class="icon" onclick="openSection('gallery')">🖼️<br><span>Gallery</span></div>
      <div class="icon" onclick="openSection('song')">🎵<br><span>Song</span></div>
      <div class="icon" onclick="openSection('movie')"><img src="icons/icon-movie.png" alt="Movie" width="24"/><br><span>Movie</span></div>
      <div class="icon" onclick="openSection('settings')">⚙️<br><span>Settings</span></div>
      <div class="icon" onclick="window.open('https://instagram.com/jeesssiixx')">❤️<br><span>Send Love</span></div>
    </div>
  </div>

  <div id="gallery" class="section hidden">
    <button onclick="backToMenu()">🔙 Back</button>
    <img id="galleryImage" src="gallery/photo1.jpg" width="80%">
    <p id="galleryCaption">✨ This is photo 1 of 12 ✨</p>
    <div>
      <button onclick="prevPhoto()">◀</button>
      <button onclick="nextPhoto()">▶</button>
    </div>
  </div>

  <div id="song" class="section hidden">
    <button onclick="backToMenu()">🔙 Back</button>
    <h2>🎵 George Benson</h2>
    <img src="song.jpg" width="80%">
    <audio controls autoplay>
      <source src="George Benson - Nothing's Gonna Change My Love For You [Lyrics].mp3" type="audio/mp3">
    </audio>
  </div>

  <div id="movie" class="section hidden">
    <button onclick="backToMenu()">🔙 Back</button>
    <h2>🎬 Favorite Movie: Jumbo</h2>
    <img src="c9f5582a-fab9-474a-b0dc-8bf1b5e1c719.png" width="80%">
  </div>

  <script>
    const slider = document.getElementById('unlockSlider');
    const lockscreen = document.getElementById('lockscreen');
    const menu = document.getElementById('menu');

    slider.addEventListener('input', () => {
      if (slider.value >= 100) {
        lockscreen.style.display = 'none';
        menu.style.display = 'block';
      }
    });

    function openSection(id) {
      menu.style.display = 'none';
      document.querySelectorAll('.section').forEach(el => el.classList.add('hidden'));
      document.getElementById(id).classList.remove('hidden');
    }

    function backToMenu() {
      document.querySelectorAll('.section').forEach(el => el.classList.add('hidden'));
      menu.style.display = 'block';
    }

    let currentPhoto = 1;
    function updateGallery() {
      document.getElementById("galleryImage").src = "gallery/photo" + currentPhoto + ".jpg";
      document.getElementById("galleryCaption").innerText = `📸 This is photo ${currentPhoto} of 12 📸`;
    }

    function nextPhoto() {
      if (currentPhoto < 12) currentPhoto++;
      updateGallery();
    }

    function prevPhoto() {
      if (currentPhoto > 1) currentPhoto--;
      updateGallery();
    }
  
let startX = 0;
document.addEventListener("touchstart", e => {
  startX = e.changedTouches[0].screenX;
});

document.addEventListener("touchend", e => {
  let endX = e.changedTouches[0].screenX;
  if (endX - startX > 80) {
    backToMenu(); // swipe right to go back
  } else if (startX - endX > 80 && document.getElementById('gallery').style.display !== 'none') {
    nextPhoto(); // swipe left in gallery
  }
});


// Audio click feedback
const clickSound = new Audio('click.mp3');
document.querySelectorAll('.icon, button').forEach(el => {
  el.addEventListener('click', () => clickSound.play());
});

// Visual wave effect on song play
document.addEventListener('DOMContentLoaded', () => {
  const audio = document.querySelector("audio");
  const wave = document.createElement("div");
  wave.id = "wave";
  wave.innerHTML = '<div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>';
  audio.parentNode.insertBefore(wave, audio);

  const bars = document.querySelectorAll("#wave .bar");
  setInterval(() => {
    if (!audio.paused) {
      bars.forEach(bar => {
        bar.style.height = Math.random() * 30 + 10 + "px";
      });
    } else {
      bars.forEach(bar => {
        bar.style.height = "10px";
      });
    }
  }, 250);
});

</script>
</body>
</html>